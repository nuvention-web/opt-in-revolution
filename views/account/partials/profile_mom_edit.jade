.col-md-12
	form.form-horizontal(action='/account/profile', method='POST', enctype="multipart/form-data")
		.page-header
			.prof-label-header
				.row.mt
					.col-md-6
						.fg-h2-special
							h2 Profile
					.col-md-6
						.form-group.fg-special
							.row.mt
								.col-md-2
								.col-md-10
									button.btn.btn-primary.opt-btn-prof.edit(type='submit') Update Profile
									a.btn.btn-primary.opt-btn-prof.edit.linkedin(href="/auth/linkedin") Import from LinkedIn
		.row.mt
			.col-md-11
				.row.mt.prof-column
					.col-md-3
						if user.profile.picture
							if (user.profile.picture.indexOf('http')!=-1)
								img.prof-pic.pagination-centered(src='#{user.profile.picture}', height='130px')
							else
								-var profLink = user.profile.picture;
								-profLink = profLink.split("public").pop();
								img.prof-pic.pagination-centered(src='#{profLink}', height='130px', width='130px')
						else
							img.prof-pic.pagination-centered(src='/images/linkedin-default.jpg', height='130px')
						br
						.form-group.prof-pic-upload
							label.control-label(for='profilePicture') Profile Picture Upload
							br
							input(type="file", name="profilePicture")
					.col-md-9
						.form-group
							label.col-md-2.control-label(for='name') Name
							.col-md-10
								input.form-control(type='text', name='name', id='name', value='#{user.profile.name}')
						.form-group
							label.col-md-2.control-label(for='email') Email
							.col-md-10
								input.form-control(type='email', name='email', id='email', value='#{user.email}')
						.form-group
							label.col-md-2.control-label(for='Location') Location
							.col-md-10
								input.form-control(type='text', name='location', id='location', value='#{user.profile.location}')
				.prof-bottom-wrapper
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='education') Education
								.row.mt
									.col-md-12
										textarea.form-control(type='text', name='education', id='education')
											if user.education[0]
												if typeof(user.education[0])==='object'
													each e in user.education
														| #{e.schoolName} - #{e.degree}
												else
													| #{user.education}
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='positions') Professional Experience
								.row.mt
									.col-md-12
										textarea.form-control.prof-experience(type='text', name='positions', id='positions')
											if user.positions[0]
												if typeof(user.positions[0])==='object'
													each p in user.positions
														| #{p.title},#{p.company}#{"\n"}
												else
													| #{user.positions}
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='skills') Skills
								.row.mt
									.col-md-12
										textarea.form-control(type='text', name='skills', id='skills')
											if user.skills[0]
												| #{user.skills[0]}
												//- - var length = user.skills.length - 1
												//- 	each s,i in user.skills
												//- 		| #{s.skill}
												//- 		if i != (length)
												//- 			| ,
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='yearsOfExperience') Years of Professional Experience
								.row.mt
									.col-md-12
										input.form-control.years-input(type='text', name='yearsOfExperience', id='yearsOfExperience', value='#{user.yearsOfExperience}')
					.row.mt
							.col-md-12
								.form-group
									.row.mt
										.col-md-12
											label.control-label(for='industryPreference') Industry
									.row.mt
										.col-md-12
											.row.mt
												.col-md-4
													div
														input(type='checkbox', name='industryPreference', value='Accounting', checked=user.industryPreference.indexOf('Accounting')!=-1)
														|  Accounting
													div
														input(type='checkbox', name='industryPreference', value='Advertising', checked=user.industryPreference.indexOf('Advertising')!=-1)
														|  Advertising
													div
														input(type='checkbox', name='industryPreference', value='Broadcasting', checked=user.industryPreference.indexOf('Broadcasting')!=-1)
														|  Broadcasting
													div
														input(type='checkbox', name='industryPreference', value='Consulting', checked=user.industryPreference.indexOf('Consulting')!=-1)
														|  Consulting
													div
														input(type='checkbox', name='industryPreference', value='Consumer Products', checked=user.industryPreference.indexOf('Consumer Products')!=-1)
														|  Consumer Products
												.col-md-4
													div
														input(type='checkbox', name='industryPreference', value='Education', checked=user.industryPreference.indexOf('Education')!=-1)
														|  Education
													div
														input(type='checkbox', name='industryPreference', value='Entertainment & Leisure', checked=user.industryPreference.indexOf('Entertainment & Leisure')!=-1)
														|  Entertainment & Leisure
													div
														input(type='checkbox', name='industryPreference', value='Financial Services', checked=user.industryPreference.indexOf('Financial Services')!=-1)
														|  Financial Services
													div
														input(type='checkbox', name='industryPreference', value='Food & Beverage', checked=user.industryPreference.indexOf('Food & Beverage')!=-1)
														|  Food & Beverage
													div
														input(type='checkbox', name='industryPreference', value='Health Care', checked=user.industryPreference.indexOf('Health Care')!=-1)
														|  Health Care
												.col-md-4
													div
														input(type='checkbox', name='industryPreference', value='Nonprofit', checked=user.industryPreference.indexOf('Nonprofit')!=-1)
														|  Nonprofit
													div
														input(type='checkbox', name='industryPreference', value='Pharmaceuticals', checked=user.industryPreference.indexOf('Pharmaceuticals')!=-1)
														|  Pharmaceuticals
													div
														input(type='checkbox', name='industryPreference', value='Publishing', checked=user.industryPreference.indexOf('Publishing')!=-1)
														|  Publishing
													div
														input(type='checkbox', name='industryPreference', value='Retail', checked=user.industryPreference.indexOf('Retail')!=-1)
														|  Retail
													div
														input(type='checkbox', name='industryPreference', value='Technology', checked=user.industryPreference.indexOf('Technology')!=-1)
														|  Technology
											//- - var industries = ['Accounting','Advertising','Broadcasting','Consulting','Consumer Products','Education','Financial Services','Food & Beverage','Health Care', 'Nonprofit','Pharmaceuticals','Publishing','Retail', 'Technology']
											//- each industry, i in industries
											//- 	div
											//- 		input(type='checkbox', name='industryPreference', value=industry, checked=user.industryPreference.indexOf(industry)!=-1)
											//- 		|  #{industry
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='jobFunctionPreference') Job Function
								.row.mt
									.col-md-12
										.row.mt
											.col-md-4
												div
													input(type='checkbox', name='jobFunctionPreference', value='Accounting', checked=user.jobFunctionPreference.indexOf('Accounting')!=-1)
													|  Accounting
												div
													input(type='checkbox', name='jobFunctionPreference', value='Business Development', checked=user.jobFunctionPreference.indexOf('Business Development')!=-1)
													|  Business Development
												div
													input(type='checkbox', name='jobFunctionPreference', value='Customer Service', checked=user.jobFunctionPreference.indexOf('Customer Service')!=-1)
													|  Customer Service
												div
													input(type='checkbox', name='jobFunctionPreference', value='Finance', checked=user.jobFunctionPreference.indexOf('Finance')!=-1)
													|  Finance
												div
													input(type='checkbox', name='jobFunctionPreference', value='Human Resources', checked=user.jobFunctionPreference.indexOf('Human Resources')!=-1)
													|  Human Resources
											.col-md-4
												div
													input(type='checkbox', name='jobFunctionPreference', value='Marketing', checked=user.jobFunctionPreference.indexOf('Marketing')!=-1)
													|  Marketing
												div
													input(type='checkbox', name='jobFunctionPreference', value='Operations', checked=user.jobFunctionPreference.indexOf('Operations')!=-1)
													|  Operations
												div
													input(type='checkbox', name='jobFunctionPreference', value='Other', checked=user.jobFunctionPreference.indexOf('Other')!=-1)
													|  Other
												div
													input(type='checkbox', name='jobFunctionPreference', value='Sales', checked=user.jobFunctionPreference.indexOf('Sales')!=-1)
													|  Sales
												div
													input(type='checkbox', name='jobFunctionPreference', value='Strategy', checked=user.jobFunctionPreference.indexOf('Strategy')!=-1)
													|  Strategy
									//- - var jobFunctions = ['Accounting', 'Business Development', 'Cost Reduction', 'Customer Service', 'Finance', 'Human Resources', 'Marketing', 'Operations', 'Other', 'Sales', 'Strategy']
										//- each jobFunc, i in jobFunctions											
										//- 	div
										//- 		input(type='checkbox', name='jobFunctionPreference', value=jobFunc, checked=user.jobFunctionPreference.indexOf(jobFunc)!=-1)
										//- 		|  #{jobFunc}
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='desiredProjectLength') Desired Project Length
								.row.mt
									.col-md-12
										.row.mt
											.col-md-4
												div
													input(type='checkbox', name='desiredProjectLength', value='< 1 week', checked=user.desiredProjectLength.indexOf('< 1 week')!=-1)
													|  < 1 week
												div
													input(type='checkbox', name='desiredProjectLength', value='1-2 weeks', checked=user.desiredProjectLength.indexOf('1-2 weeks')!=-1)
													|  1-2 weeks
												div
													input(type='checkbox', name='desiredProjectLength', value='2-3 weeks', checked=user.desiredProjectLength.indexOf('2-3 weeks')!=-1)
													|  2-3 weeks
												div
													input(type='checkbox', name='desiredProjectLength', value='3-4 weeks', checked=user.desiredProjectLength.indexOf('3-4 weeks')!=-1)
													|  3-4 weeks																			
											.col-md-4
												div
													input(type='checkbox', name='desiredProjectLength', value='1-2 months',checked=user.desiredProjectLength.indexOf('1-2 months')!=-1)
													|  1-2 months
												div
													input(type='checkbox', name='desiredProjectLength', value='2-3 months', checked=user.desiredProjectLength.indexOf('2-3 months')!=-1)
													|  2-3 months																		
												div
													input(type='checkbox', name='desiredProjectLength', value='3+ months', checked=user.desiredProjectLength.indexOf('3+ months')!=-1)
													|  > 3 months																		
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='desiredHoursPerWeek') Desired Hours Per Week
								.row.mt
									.col-md-12
										div
											input(type='checkbox', name='desiredHoursPerWeek', value='<10', checked=user.desiredHoursPerWeek.indexOf('<10')!=-1)
											|  < 10
										div
											input(type='checkbox', name='desiredHoursPerWeek', value='10-20', checked=user.desiredHoursPerWeek.indexOf('10-20')!=-1)
											|  10-20
										div
											input(type='checkbox', name='desiredHoursPerWeek', value='20-30', checked=user.desiredHoursPerWeek.indexOf('20-30')!=-1)
											|  20-30
										div
											input(type='checkbox', name='desiredHoursPerWeek', value='30-40', checked=user.desiredHoursPerWeek.indexOf('30-40')!=-1)
											|  30-40
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='checkinFrequency') Check-in Frequency
								.row.mt
									.col-md-12
										div
											input(type='checkbox', name='checkinFrequency', value='Daily', checked=user.checkinFrequencyPreference.indexOf('Daily')!=-1)
											|  Daily
										div
											input(type='checkbox', name='checkinFrequency', value='Twice a week', checked=user.checkinFrequencyPreference.indexOf('Twice a week')!=-1)
											|  Twice a week
										div
											input(type='checkbox', name='checkinFrequency', value='Weekly', checked=user.checkinFrequencyPreference.indexOf('Weekly')!=-1)
											|  Weekly
										div
											input(type='checkbox', name='checkinFrequency', value='Monthly', checked=user.checkinFrequencyPreference.indexOf('Monthly')!=-1)
											|  Monthly																			
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='primaryComm') Primary Communication Method
								.row.mt
									.col-md-12
										div
											input(type='checkbox', name='communicationPreferences', value='Email', checked=user.communicationPreferences.indexOf('Email')!=-1)
											|  Email
										div
											input(type='checkbox', name='communicationPreferences', value='Phone', checked=user.communicationPreferences.indexOf('Phone')!=-1)
											|  Phone
										div
											input(type='checkbox', name='communicationPreferences', value='In-Person', checked=user.communicationPreferences.indexOf('In-Person')!=-1)
											|  In-Person
					.row.mt
						.col-md-12
							.form-group
								.row.mt
									.col-md-12
										label.control-label(for='resume') Resume Upload 
											a(href="/account/resume-download-id=#{user._id}") #{user.resume.name}
								.row.mt
									.col-md-12
										input(type="file", name="resume")
					.row.mt
						button.btn.btn-primary.opt-btn-prof.edit.special(type='submit') Update Profile

					//- .row.mt
					//- 	.col-md-12
					//- 		.form-group
					//- 			.row.mt
					//- 				.col-md-6.col-md-offset-1
					//- 					label.control-label(for='website') LinkedIn Profile
					//- 			.row.mt
					//- 				.col-md-6.col-md-offset-1
					//- 					input.form-control(type='text', name='website', id='website', value='#{user.linkedinURL}')
					br
					br
					br
					br
			//- .col-md-3
				.form-group
					.row.mt
						.col-md-12
							button.btn.btn.btn-primary.opt-btn-update(type='submit') Update Profile
					.row.mt
						.col-md-12
							a.btn.btn.btn-primary(href="/auth/linkedin") Sync with Linkedin
							//- a.btn.btn.btn-primary(href="/auth/linkedin",data-toggle='modal', data-target='#linkedInLoading') Sync with Linkedin
				//- #linkedInLoading.modal.fade(tabindex='-1', role='dialog', aria-labelledby='linkedInLoadingLabel', aria-hidden='true')
					.modal-dialog
						.modal-content
							.modal-header
								button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
								h4#linkedInLoadingLabel.modal-title Syncing with LinkedIn....
							.modal-body
								| ...