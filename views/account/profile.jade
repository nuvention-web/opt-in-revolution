extends ../layout

block content
	.container
		if error.length
			.alert.alert-danger.animated.fadeIn.opt-alert
				button.close(data-dismiss='alert') ×
				= error
		if success.length
			.alert.alert-success.animated.fadeInUp.opt-alert
				button.close(data-dismiss='alert') ×
				i.fa.fa-check
				= success
		if companyError && companyError.length
			.alert.alert-danger.animated.fadeIn.opt-alert
				button.close(data-dismiss='alert') x
				= "Fill out company information before posting jobs" 
		if signUp.length
			.alert.alert-info.animated.fadeIn.opt-alert
				button.close(data-dismiss='alert') x
				= "Please fill out your name and bio before applying to jobs."
		.row.mt
			.profile-wrap
				.col-md-2.col-md-offset-1
					ul.nav.nav-tabs.tabs-left
						li.active
							a(href='#home', data-toggle='tab') Profile
						li
							a(href='#settings', data-toggle='tab') Account Settings
						//- li
							a(href='#messages', data-toggle='tab') Messages
						//- li
							a(href='#settings', data-toggle='tab') Settings
				.col-md-9
					.tab-content
						#home.tab-pane.active 
							.col-md-10
								if user.userType=='mom'
									form.form-horizontal(action='/account/profile', method='POST')
										.page-header
											.prof-label-header
												.row.mt
													.col-md-7
														.fg-h2-special
															h2 Profile
													.col-md-5
														.form-group.fg-special
															.row.mt
																.col-md-6
																	button.btn.btn.btn-primary.opt-btn-update(type='submit') Update Profile
																.col-md-6
																	a.btn.btn.btn-primary(href="/auth/linkedin") Sync with Linkedin
										.row.mt										
											.col-md-12
												.row.mt.prof-column
													.col-md-3
														if user.profile.picture
															img.prof-pic.pagination-centered(src='#{user.profile.picture}', height='130px')
														else
															img.prof-pic.pagination-centered(src='/images/linkedin-default.jpg', height='130px')
													.col-md-9
														.form-group
															label.col-md-2.control-label(for='name') Name
															.col-md-10
																input.form-control(type='text', name='name', id='name', value='#{user.profile.name}')
														.form-group
															label.col-md-2.control-label(for='email') Email
															.col-md-10
																input.form-control(type='email', name='email', id='email', value='#{user.email}')
														.form-group
															label.col-md-2.control-label(for='Location') Location
															.col-md-10
																input.form-control(type='text', name='location', id='location', value='#{user.profile.location}')
												.prof-bottom-wrapper
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='education') Education
																.row.mt
																	.col-md-12
																		textarea.form-control(type='text', name='education', id='education')
																			if user.education[0]
																				if typeof(user.education[0])==='object'
																					- var edu = user.education.pop();
																					| #{edu.schoolName} - #{edu.degree}
																					each e in user.education
																						| , #{e.schoolName}
																				else
																					| #{user.education}
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='bio') Bio
																.row.mt
																	.col-md-12
																		textarea.form-control(type='textarea', name='bio', id='bio')
																			| #{user.bio}
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='positions') Professional Experience
																.row.mt
																	.col-md-12
																		textarea.form-control(type='text', name='positions', id='positions')
																			if user.positions[0]
																				if typeof(user.positions[0])==='object'
																					- var pos = user.positions.pop();
																					| #{pos.title}, #{pos.company}#{"\n"}
																					each p in user.positions
																						| #{p.title}, #{p.company}#{"\n"}
																				else
																					| #{user.positions}
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='yearsOfExperience') Years of Professional Experience
																.row.mt
																	.col-md-12
																		input.form-control(type='text', name='yearsOfExperience', id='yearsOfExperience', value='#{user.yearsOfExperience}')
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='skills') Skills
																.row.mt
																	.col-md-12
																		textarea.form-control(type='text', name='skills', id='skills')
																			if user.skills[0]
																				| #{user.skills.pop()}
																				each s in user.skills
																					| , #{s}
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='interests') Interests
																.row.mt
																	.col-md-12
																		textarea.form-control(type='text', name='interests', id='interests')
																			| #{user.interests}
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='desiredHoursPerWeek') Desired Hours Per Week (check all that apply)
																.row.mt
																	.col-md-12
																		label < 10
																			input(type='checkbox', name='desiredHoursPerWeek', value='<10', checked=user.desiredHoursPerWeek.indexOf('<10')!=-1)
																		label 10-20
																			input(type='checkbox', name='desiredHoursPerWeek', value='10-20', checked=user.desiredHoursPerWeek.indexOf('10-20')!=-1)
																		label 20-30
																			input(type='checkbox', name='desiredHoursPerWeek', value='20-30', checked=user.desiredHoursPerWeek.indexOf('20-30')!=-1)
																		label 30-40
																			input(type='checkbox', name='desiredHoursPerWeek', value='30-40', checked=user.desiredHoursPerWeek.indexOf('30-40')!=-1)
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='desiredProjectLength') Desired Project Length (check all that apply)
																.row.mt
																	.col-md-12
																		label < 1 week
																			input(type='checkbox', name='desiredProjectLength', value='< 1 week', checked=user.desiredProjectLength.indexOf('< 1 week')!=-1)
																		label 1-2 weeks
																			input(type='checkbox', name='desiredProjectLength', value='1-2 weeks', checked=user.desiredProjectLength.indexOf('1-2 weeks')!=-1)
																		label 2-4 weeks
																			input(type='checkbox', name='desiredProjectLength', value='2-4 weeks', checked=user.desiredProjectLength.indexOf('2-4 weeks')!=-1)
																		label 1-2 months
																			input(type='checkbox', name='desiredProjectLength', value='1-2 months',checked=user.desiredProjectLength.indexOf('1-2 months')!=-1)
																		label 2-3 months
																			input(type='checkbox', name='desiredProjectLength', value='2-3 months', checked=user.desiredProjectLength.indexOf('2-3 months')!=-1)
																		label 3+ months
																			input(type='checkbox', name='desiredProjectLength', value='3+ months', checked=user.desiredProjectLength.indexOf('3+ months')!=-1)
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='primaryComm') Primary Communication Method (check all that apply)
																.row.mt
																	.col-md-12
																		label Email
																			input(type='checkbox', name='communicationPreferences', value='Email', checked=user.communicationPreferences.indexOf('Email')!=-1)
																		label Phone
																			input(type='checkbox', name='communicationPreferences', value='Phone', checked=user.communicationPreferences.indexOf('Phone')!=-1)
																		label In-Person
																			input(type='checkbox', name='communicationPreferences', value='In-Person', checked=user.communicationPreferences.indexOf('In-Person')!=-1)
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='checkinFrequency') Check-in Frequency
																.row.mt
																	.col-md-12
																		label Daily
																			input(type='checkbox', name='checkinFrequency', value='Daily', checked=user.checkinFrequencyPreference.indexOf('Daily')!=-1)
																		label Twice a week
																			input(type='checkbox', name='checkinFrequency', value='Twice a week', checked=user.checkinFrequencyPreference.indexOf('Twice a week')!=-1)
																		label Weekly
																			input(type='checkbox', name='checkinFrequency', value='Weekly', checked=user.checkinFrequencyPreference.indexOf('Weekly')!=-1)
																		label Monthly
																			input(type='checkbox', name='checkinFrequency', value='Monthly', checked=user.checkinFrequencyPreference.indexOf('Monthly')!=-1)
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='industryPreference') Industry
																.row.mt
																	.col-md-12
																		- var industries = ['Accounting','Advertising','Broadcasting','Consulting','Consumer Products','Education','Financial Services','Food & Beverage','Health Care', 'Nonprofit','Pharmaceuticals','Publishing','Retail', 'Technology']
																		each industry in industries
																			div
																				label #{industry}
																					input(type='checkbox', name='industryPreference', value=industry, checked=user.industryPreference.indexOf(industry)!=-1)
																		//- label Accounting
																		//- 	input(type='checkbox', name='industryPreference', value='Accounting', checked=user.industryPreference.indexOf('Accounting')!=-1)
																		//- label Advertising
																		//- 	input(type='checkbox', name='industryPreference', value='Advertising', checked=user.industryPreference.indexOf('Advertising')!=-1)
																		//- label Broadcasting
																		//- 	input(type='checkbox', name='industryPreference', value='Broadcasting', checked=user.industryPreference.indexOf('Broadcasting')!=-1)
																		//- label Consulting
																		//- 	input(type='checkbox', name='industryPreference', value='Consulting', checked=user.industryPreference.indexOf('Consulting')!=-1)
																		//- label Consumer Products
																		//- 	input(type='checkbox', name='industryPreference', value='Consumer Products', checked=user.industryPreference.indexOf('Consumer Products')!=-1)
																		//- label Education
																		//- 	input(type='checkbox', name='industryPreference', value='Education', checked=user.industryPreference.indexOf('Education')!=-1)
																		//- label Entertainment & Leisure
																		//- 	input(type='checkbox', name='industryPreference', value='Entertainment & Leisure', checked=user.industryPreference.indexOf('Entertainment & Leisure')!=-1)
																		//- label Financial Services
																		//- 	input(type='checkbox', name='industryPreference', value='Financial Services', checked=user.industryPreference.indexOf('Financial Services')!=-1)
																		//- label Food & Beverage
																		//- 	input(type='checkbox', name='industryPreference', value='Food & Beverage', checked=user.industryPreference.indexOf('Food & Beverage')!=-1)
																		//- label Health Care
																		//- 	input(type='checkbox', name='industryPreference', value='Health Care', checked=user.industryPreference.indexOf('Health Care')!=-1)
																		//- label Nonprofit
																		//- 	input(type='checkbox', name='industryPreference', value='Nonprofit', checked=user.industryPreference.indexOf('Nonprofit')!=-1)
																		//- label Pharmaceuticals
																		//- 	input(type='checkbox', name='industryPreference', value='Pharmaceuticals', checked=user.industryPreference.indexOf('Pharmaceuticals')!=-1)
																		//- label Publishing
																		//- 	input(type='checkbox', name='industryPreference', value='Publishing', checked=user.industryPreference.indexOf('Publishing')!=-1)
																		//- label Retail
																		//- 	input(type='checkbox', name='industryPreference', value='Retail', checked=user.industryPreference.indexOf('Retail')!=-1)
																		//- label Technology
																		//- 	input(type='checkbox', name='industryPreference', value='Technology', checked=user.industryPreference.indexOf('Technology')!=-1)
													.row.mt
														.col-md-12
															.form-group
																.row.mt
																	.col-md-12
																		label.control-label(for='jobFunctionPreference') Job Function
																.row.mt
																	.col-md-12
																		- var jobFunctions = ['Accounting', 'Business Development', 'Cost Reduction', 'Customer Service', 'Finance', 'Human Resources', 'Marketing', 'Operations', 'Other', 'Sales', 'Strategy']
																		each jobFunc in jobFunctions											
																			div
																				label #{jobFunc}
																					input(type='checkbox', name='jobFunctionPreference', value=jobFunc, checked=user.jobFunctionPreference.indexOf(jobFunc)!=-1)
																		//- label Accounting
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Accounting', checked=user.jobFunctionPreference.indexOf('Accounting')!=-1)
																		//- label Business Development
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Business Development', checked=user.jobFunctionPreference.indexOf('Business Development')!=-1)
																		//- label Cost Reduction
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Cost Reduction', checked=user.jobFunctionPreference.indexOf('Cost Reduction')!=-1)
																		//- label Customer Service
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Customer Service', checked=user.jobFunctionPreference.indexOf('Customer Service')!=-1)
																		//- label Finance
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Finance', checked=user.jobFunctionPreference.indexOf('Finance')!=-1)
																		//- label Human Resources
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Human Resources', checked=user.jobFunctionPreference.indexOf('Human Resources')!=-1)
																		//- label Marketing
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Marketing', checked=user.jobFunctionPreference.indexOf('Marketing')!=-1)
																		//- label Operations
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Operations', checked=user.jobFunctionPreference.indexOf('Operations')!=-1)
																		//- label Other
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Other', checked=user.jobFunctionPreference.indexOf('Other')!=-1)
																		//- label Sales
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Sales', checked=user.jobFunctionPreference.indexOf('Sales')!=-1)
																		//- label Strategy
																		//- 	input(type='checkbox', name='jobFunctionPreference', value='Strategy', checked=user.jobFunctionPreference.indexOf('Strategy')!=-1)

													//- .row.mt
													//- 	.col-md-12
													//- 		.form-group
													//- 			.row.mt
													//- 				.col-md-6.col-md-offset-1
													//- 					label.control-label(for='website') LinkedIn Profile
													//- 			.row.mt
													//- 				.col-md-6.col-md-offset-1
													//- 					input.form-control(type='text', name='website', id='website', value='#{user.linkedinURL}')
													br
													br
													br
													br
											//- .col-md-3
												.form-group
													.row.mt
														.col-md-12
															button.btn.btn.btn-primary.opt-btn-update(type='submit') Update Profile
													.row.mt
														.col-md-12
															a.btn.btn.btn-primary(href="/auth/linkedin") Sync with Linkedin
															//- a.btn.btn.btn-primary(href="/auth/linkedin",data-toggle='modal', data-target='#linkedInLoading') Sync with Linkedin
												//- #linkedInLoading.modal.fade(tabindex='-1', role='dialog', aria-labelledby='linkedInLoadingLabel', aria-hidden='true')
													.modal-dialog
														.modal-content
															.modal-header
																button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
																h4#linkedInLoadingLabel.modal-title Syncing with LinkedIn....
															.modal-body
																| ...
								else if user.userType=='employer'
									.biz-prof-wrapper
										.page-header
											h3 Company Information

										form.form-horizontal(action='/account/profile', method='POST')
											.col-md-9
												.row.mt
													.col-md-12
														.form-group
															label.col-md-2.control-label(for='email') Email
															.col-md-4
																input.form-control(type='email', name='email', id='email', value='#{user.email}')
												.row.mt
													.col-md-12
														.form-group
															label.col-md-2.control-label(for='companyName') Company Name
															.col-md-4
																if typeof(user.company.companyName)=='undefined'
																	input.form-control(type='companyName', name='companyName', id='companyName', value='')
																else
																	input.form-control(type='companyName', name='companyName', id='companyName', value='#{user.company.companyName}')
												.row.mt
													.col-md-12
														.form-group
															label.col-md-2.control-label(for='companyDescription') Company Description
															.col-md-4
																if typeof(user.company.companyDescription)=='undefined'
																	input.form-control(type='companyDescription', name='companyDescription', id='companyDescription', value='')
																else
																	input.form-control(type='companyDescription', name='companyDescription', id='companyDescription', value='#{user.company.companyDescription}')
												br
												br
												br
												br
											.col-md-3
												.row.mt
													.col-md-9.col-md-offset-1
														.form-group
															.col-md-offset-2.col-md-4
																button.btn.btn.btn-primary.opt-btn-update(type='submit') Update Profile
						#settings.tab-pane 
							.opt-login-wrapper
								.page-header
									h3 Change Password

								form.form-horizontal(action='/account/password', method='POST')
									.form-group
										label.col-md-3.control-label(for='password') New Password
										.col-md-4
											input.form-control(type='password', name='password', id='password')
									.form-group
										label.col-md-3.control-label(for='confirmPassword') Confirm Password
										.col-md-4
											input.form-control(type='password', name='confirmPassword', id='confirmPassword')
									.form-group
										.col-md-offset-3.col-md-4
											button.btn.btn.btn-primary(type='submit') Change Password
						//- #messages.tab-pane Messages Tab.
						//- #settings.tab-pane Settings Tab.
						//- .page-header
						//- 	h3 Deactivate Account

						//- p You can deactivate your account.
						//- form(action='/account/deactivate', method='POST')
						//- 	button.btn.btn-danger(type='submit') Deactivate my account

				//- .page-header
				//-   h3 Linked Accounts

				//- if user.google
				//-   p: a.text-danger(href='/account/unlink/google') Unlink your Google account
				//- else
				//-   p: a(href='/auth/google') Link your Google account

				//- if user.facebook
				//-   p: a.text-danger(href='/account/unlink/facebook') Unlink your Facebook account
				//- else
				//-   p: a(href='/auth/facebook') Link your Facebook account